
 CREATE TABLE QUOCGIA(
	MAQG VARCHAR (5) PRIMARY KEY,  
	TENQG NVARCHAR(60) NOT NULL
);
go

CREATE TABLE TINH(
	MATINH VARCHAR (5) PRIMARY KEY,  
	TENTINH NVARCHAR(100) NOT NULL
);
go

CREATE TABLE  SANVD(
	MASAN VARCHAR (5) PRIMARY KEY,  
	TENSAN NVARCHAR(100) NOT NULL,  
	DIACHI NVARCHAR(200) NULL
);
go

CREATE TABLE CAULACBO(
	MACLB VARCHAR (5) PRIMARY KEY,  
	TENCLB NVARCHAR(100) NOT NULL,  
	MASAN VARCHAR (5) NOT NULL,  
	MATINH VARCHAR (5) NOT NULL, 
	CONSTRAINT FK_CAULACBO_MASAN FOREIGN KEY(MASAN) REFERENCES SANVD(MASAN),
	CONSTRAINT FK_CAULACBO_MATINH FOREIGN KEY(MATINH) REFERENCES TINH(MATINH)
);
go

CREATE TABLE CAUTHU(
	MACT NUMERIC PRIMARY KEY IDENTITY(1,1),
	HOTEN NVARCHAR(100) NOT NULL,
	VITRI NVARCHAR(20) NOT NULL,
	NGAYSINH DATETIME ,
	DIACHI NVARCHAR(200) NULL,
	MACLB VARCHAR (5) NOT NULL,
	MAQG VARCHAR (5) NOT NULL,
	SO INT NOT NULL,
	CONSTRAINT FK_CAUTHU_MACLB FOREIGN KEY(MACLB) REFERENCES CAULACBO(MACLB),
	CONSTRAINT FK_CAUTHU_MAQG FOREIGN KEY(MAQG) REFERENCES QUOCGIA(MAQG)
);
go

CREATE TABLE  HUANLUYENVIEN(
	MAHLV VARCHAR (5) PRIMARY KEY,  
	TENHLV NVARCHAR(100) NOT NULL,  
	NGAYSINH DATETIME,
	DIACHI NVARCHAR(200) NULL,
	DIENTHOAI NVARCHAR(20) NULL,
	MAQG VARCHAR (5) NOT NULL,
	CONSTRAINT FK_HUANLUYENVIEN_MAQG FOREIGN KEY(MAQG) REFERENCES QUOCGIA(MAQG)
);
go

CREATE TABLE  HLV_CLB(
	MAHLV VARCHAR (5) NOT NULL,  
	MACLB VARCHAR (5) NOT NULL,  
	VAITRO NVARCHAR(100) NOT NULL, 
	PRIMARY KEY(MAHLV,MACLB),
	CONSTRAINT FK_HLV_CLB_MAHLV FOREIGN KEY(MAHLV) REFERENCES HUANLUYENVIEN(MAHLV),
	CONSTRAINT FK_HLV_CLB_MACLB FOREIGN KEY(MACLB) REFERENCES CAULACBO(MACLB)
);
go

CREATE TABLE  TRANDAU(
	MATRAN NUMERIC PRIMARY KEY IDENTITY(1,1),
	NAM INT NOT NULL, 
	VONG INT NOT NULL,
	NGAYTD DATETIME , 
	MACLB1 VARCHAR (5) NOT NULL,  
	MACLB2 VARCHAR (5) NOT NULL,  
	MASAN VARCHAR (5) NOT NULL,  
	KETQUA VARCHAR (5) NOT NULL,
	CONSTRAINT FK_TRANDAU_MACLB1 FOREIGN KEY(MACLB1) REFERENCES CAULACBO(MACLB),
	CONSTRAINT FK_TRANDAU_MACLB2 FOREIGN KEY(MACLB2) REFERENCES CAULACBO(MACLB),
	CONSTRAINT FL_TRANDAU_MASAN FOREIGN KEY(MASAN) REFERENCES SANVD(MASAN)
);
go

CREATE TABLE  BANGXH(
	MACLB VARCHAR (5),  
	NAM INT  ,
	VONG INT  ,
	SOTRAN INT  NOT NULL,
	THANG INT  NOT NULL,
	HOA INT  NOT NULL,
	THUA INT  NOT NULL,
	HIEUSO VARCHAR (5) NOT NULL,  
	DIEM INT  NOT NULL,
	HANG INT NOT NULL,
	PRIMARY KEY (MACLB,NAM,VONG),
	CONSTRAINT FK_BANGXH_MACLB FOREIGN KEY(MACLB) REFERENCES CAULACBO(MACLB)
);
go

--nhập dữ liệu:

INSERT INTO QUOCGIA (MAQG, TENQG)
VALUES 
    ('VN', N'Việt Nam'),
    ('ANH', N'Anh Quốc'),
    ('TBN', N'Tây Ban Nha'),
    ('BDN', N'Bồ Đào Nha'),
    ('BRA', N'Brazil'),
    ('ITA', N'Ý'),
    ('THA', N'Thái Lan');
go

INSERT INTO TINH (MATINH, TENTINH)
VALUES 
	('BD', N'Bình Dương'),
	('GL', N'Gia Lai'),
	('DN', N'Đà Nẵng'),
	('KH', N'Khánh Hòa'),
	('PY', N'Phú Yên'),
	('LA', N'Long An');
go

INSERT INTO SANVD (MASAN, TENSAN, DIACHI) 
VALUES ('GD', N'Gò Đậu', N'123 QL1, TX Thủ Dầu Một, Bình Dương'),
       ('PL', N'Pleiku', N'22 Hồ Tùng Mậu, Thống Nhất, Thị xã Pleiku, Gia Lai'),
       ('CL', N'Chi Lăng', N'127 Võ Văn Tần, Đà Nẵng'),
       ('NT', N'Nha Trang', N'128 Phan Chu Trinh, Nha Trang, Khánh Hòa'),
       ('TH', N'Tuy Hòa', N'57 Trường Chinh, Tuy Hòa, Phú Yên'),
       ('LA', N'Long An', N'102 Hùng Vương, Tp Tân An, Long An');
go

INSERT INTO CAULACBO (MACLB, TENCLB, MASAN, MATINH)
VALUES 
	('BBD', N'BECAMEX BÌNH DƯƠNG', 'GD', 'BD'),
	('HAGL', N'HOÀNG ANH GIA LAI', 'PL', 'GL'),
	('SDN', N'SHB ĐÀ NẴNG', 'CL', 'DN'),
	('KKH', N'KHATOCO KHÁNH HÒA', 'NT', 'KH'),
	('TPY', N'THÉP PHÚ YÊN', 'TH', 'PY'),
	('GDT', N'GẠCH ĐỒNG TÂM LONG AN', 'LA', 'LA');
go

SET IDENTITY_INSERT CAUTHU ON;
INSERT INTO CAUTHU (MACT,HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(1,N'Nguyễn Vũ Phong', N'Tiền vệ', '02-20-1990', NULL, 'BBD', 'VN', 17),
(2,N'Nguyễn Công Vinh', N'Tiền đạo', '03-10-1992', NULL, 'HAGL', 'VN', 9),
(4,N'Trần Tấn Tài', N'Tiền vệ', '11-12-1989', NULL, 'BBD', 'VN', 8),
(5,N'Phan Hồng Sơn', N'Thủ môn', '06-10-1991', NULL, 'HAGL', 'VN', 1),
(6,N'Ronaldo', N'Tiền vệ', '12-12-1989', NULL, 'SDN', 'BRA', 7),
(7,N'Robinho', N'Tiền vệ', '10-12-1989', NULL, 'SDN', 'BRA', 8),
(8,N'Vidic', N'Hậu vệ', '10-15-1987', NULL, 'HAGL', 'ANH', 3),
(9,N'Trần Văn Santos', N'Thủ môn', '10-21-1990', NULL, 'BBD', 'BRA', 1),
(10,N'Nguyễn Trường Sơn', N'Hậu vệ', '08-26-1993', NULL, 'BBD', 'VN', 4);
go
SET IDENTITY_INSERT CAUTHU OFF;



INSERT INTO HUANLUYENVIEN (MAHLV, TENHLV, NGAYSINH, DIACHI, DIENTHOAI, MAQG)
VALUES ('HLV01', N'Vital', '1955-10-15', NULL, '0918011075', 'BDN'),
       ('HLV02', N'Lê Huỳnh Đức', '1972-05-20', NULL, '01223456789', 'VN'),
       ('HLV03', N'Kiatisuk', '1970-12-11', NULL, '01990123456', 'THA'),
       ('HLV04', N'Hoàng Anh Tuấn', '1970-06-10', NULL, '0989112233', 'VN'),
       ('HLV05', N'Trần Công Minh', '1973-07-07', NULL, '0909099990', 'VN'),
       ('HLV06', N'Trần Văn Phúc', '1965-03-02', NULL, '01650101234', 'VN');
go

INSERT INTO HLV_CLB (MAHLV, MACLB, VAITRO)
VALUES ('HLV01', 'BBD', N'HLV Chính'),
       ('HLV02', 'SDN', N'HLV Chính'),
       ('HLV03', 'HAGL', N'HLV Chính'),
       ('HLV04', 'KKH', N'HLV Chính'),
       ('HLV05', 'GDT', N'HLV Chính'),
       ('HLV06', 'BBD', N'HLV thủ môn');
go

SET IDENTITY_INSERT TRANDAU ON;
INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
  (1, 2009, 1, '2009-02-07', 'BBD', 'SDN', 'GD', '3-0'),
  (2, 2009, 1, '2009-02-07', 'KKH', 'GDT', 'NT', '1-1'),
  (3, 2009, 2, '2009-02-16', 'SDN', 'KKH', 'CL', '2-2'),
  (4, 2009, 2, '2009-02-16', 'TPY', 'BBD', 'TH', '5-0'),
  (5, 2009, 3, '2009-03-01', 'TPY', 'GDT', 'TH', '0-2'),
  (6, 2009, 3, '2009-03-01', 'KKH', 'BBD', 'NT', '0-1'),
  (7, 2009, 4, '2009-03-07', 'KKH', 'TPY', 'NT', '1-0'),
  (8, 2009, 4, '2009-03-07', 'BBD', 'GDT', 'GD', '2-2');
go
SET IDENTITY_INSERT TRANDAU OFF;

INSERT INTO BANGXH (MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES 
	('BBD', 2009, 1, 1, 1, 0, 0, '3-0', 3, 1),
    ('KKH', 2009, 1, 1, 0, 1, 0, '1-1', 1, 2),
    ('GDT', 2009, 1, 1, 0, 1, 0, '1-1', 1, 3),
    ('TPY', 2009, 1, 0, 0, 0, 0, '0-0', 0, 4),
    ('SDN', 2009, 1, 1, 0, 1, 0, '0-3', 0, 5),
    ('TPY', 2009, 2, 1, 1, 0, 0, '5-0', 3, 1),
    ('BBD', 2009, 2, 2, 1, 0, 1, '3-5', 3, 2),
    ('KKH', 2009, 2, 2, 0, 2, 0, '3-3', 2, 3),
    ('GDT', 2009, 2, 1, 0, 1, 0, '1-1', 1, 4),
    ('SDN', 2009, 2, 2, 1, 0, 1, '2-5', 1, 5),
    ('BBD', 2009, 3, 3, 2, 0, 1, '4-5', 6, 1),
    ('GDT', 2009, 3, 2, 1, 0, 0, '3-1', 4, 2),
	('TPY', 2009, 3, 2, 1, 0, 1, '5-2', 3, 3),
	('KKH', 2009, 3, 3, 0, 2, 1, '3-4', 2, 4),
	('SDN', 2009, 3, 2, 1, 0, 1, '2-5', 1, 5),
	('BBD', 2009, 4, 4, 2, 1, 1, '6-7', 7, 1),
	('GDT', 2009, 4, 3, 1, 2, 0, '5-1', 5, 2),
	('KKH', 2009, 4, 4, 1, 2, 1, '4-4', 5, 3),
	('TPY', 2009, 4, 3, 1, 0, 2, '5-3', 3, 4),
	('SDN', 2009, 4, 2, 1, 1, 0, '2-5', 1, 5);
go


